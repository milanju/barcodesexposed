<html>
<head>
  <script src="jquery-1.11.3.min.js"></script>
</head>
<body>

<div id="ladder"></div>

<script>
(function() {
  var ladderAPI = "https://eu.api.battle.net/sc2/ladder/grandmaster?locale=en_GB&apikey=hqcmbnfhfr6xuzmt29yrkcy3a23ekjz2";
  var alias;
  $.getJSON('alias.json', function(data) {
    console.log('success');
    console.log(data);
    alias = data;
  })
  $.getJSON(ladderAPI)
    .done(function( data ) {
      var name;
      $.each( data.ladderMembers, function(i, item) {
        name = item.character.displayName;
        $.each(alias.exposedBarcodes, function(j, jtem) {
          if(item.character.id === jtem.id) {
            name += " // " + jtem.alias;
          }
        });
        $( "<p>" + name + "</p>" ).appendTo( "#ladder" );
      });
    });
})();
</script>

</body>
</html>
